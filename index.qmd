---
title: "Montana"
format: html
editor: visual
---

# Montana Map Test

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(tidyverse)
library(tigris)
library(sf)
library(ggplot2)
library(dplyr)
library(tidycensus)
library(htmltools)
library(janitor)
library(here)
library(mapview)
library(leafsync)
library(leaflet.extras2)
options(tigris_class = "sf")

```

```{r, include=FALSE}
myapikey <- "7ec164ce2e6d7eff05a3da72fa85dec41773e398"
census_api_key(myapikey, overwrite = TRUE)
```

## Census Data

```{r, include=FALSE}
montana_income <- get_acs(
  geography = 'tract',
  variables = c( 
    median_income = 'B06011_001'
  ),
  state = 'MT',
  output = "wide",
  geometry = TRUE
)
```

```{r, include=FALSE}
montana_income <- montana_income %>%
  select(-ends_with("M"))

colnames(montana_income) <- sub("E$", "", colnames(montana_income))
```

```{r}
mapview(montana_income, zcol = "median_income")
```

## Harvard Data

```{r}
# Read the data file

Montana <- read.csv('MT_precinct_data.csv', header=TRUE, stringsAsFactors=FALSE)

```

```{r}
# Plot the map using ggplot2
ggplot() +
  geom_sf(data = data_sf, fill = "lightblue", color = "darkblue") +
  theme_minimal() +
  labs(title = "Montana Precincts - 2018 General",
       x = "Longitude", y = "Latitude")
```
